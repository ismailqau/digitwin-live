# =============================================================================
# DEVELOPMENT ENVIRONMENT
# =============================================================================
# This file contains development-specific settings
# Copy to .env for local development
# =============================================================================

NODE_ENV=development

# -----------------------------------------------------------------------------
# LOCAL SERVICES - Development URLs
# -----------------------------------------------------------------------------
API_GATEWAY_PORT=3000
API_GATEWAY_HOST=localhost
API_GATEWAY_URL=http://localhost:3000

WEBSOCKET_PORT=3001
WEBSOCKET_HOST=localhost
WEBSOCKET_URL=http://localhost:3001

FACE_PROCESSING_PORT=8001
FACE_PROCESSING_HOST=localhost
FACE_PROCESSING_URL=http://localhost:8001

# -----------------------------------------------------------------------------
# CORS - Allow all origins in development
# -----------------------------------------------------------------------------
CORS_ORIGIN=*

# -----------------------------------------------------------------------------
# JWT - Development secrets (DO NOT USE IN PRODUCTION)
# -----------------------------------------------------------------------------
# JWT Authentication
JWT_SECRET=3h1Jy0SGM+u+CeMhCT98lLbDfrri6pGzFNXiPpRCnIc=
REFRESH_SECRET=V2yKGotlGfpeaM4z78KsiGrpsTbW1TYiiVnBJ9XO2uI=
ACCESS_TOKEN_EXPIRY=15m
REFRESH_TOKEN_EXPIRY=7d

# -----------------------------------------------------------------------------
# DATABASE - Local PostgreSQL
# -----------------------------------------------------------------------------
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=digitwin_live_dev
DATABASE_USER=postgres
# Database
# DATABASE_PASSWORD=zexlK45gnorlQVAmmmegkTM5ykrJQItf
DATABASE_SSL=false
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

DATABASE_URL=postgresql://aim@localhost:5432/digitwinline_dev


# -----------------------------------------------------------------------------
# CACHING - PostgreSQL-based (no separate cache service needed)
# -----------------------------------------------------------------------------
ENABLE_CACHING=true
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=3600
CACHE_TTL_LONG=86400

# -----------------------------------------------------------------------------
# OAUTH - Development credentials
# -----------------------------------------------------------------------------
# Google OAuth (use test credentials)
GOOGLE_CLIENT_ID=your-dev-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-dev-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/api/v1/auth/oauth/google/callback

# Apple OAuth (use test credentials)
APPLE_CLIENT_ID=com.yourcompany.digitwinlive.dev
APPLE_TEAM_ID=DEV_TEAM_ID
APPLE_KEY_ID=DEV_KEY_ID
APPLE_PRIVATE_KEY_PATH=./secrets/apple-private-key-dev.p8
APPLE_REDIRECT_URI=http://localhost:3000/api/v1/auth/oauth/apple/callback

# -----------------------------------------------------------------------------
# AI SERVICES - Use test/free tier keys
# -----------------------------------------------------------------------------
# Mock external services for faster development
MOCK_EXTERNAL_SERVICES=false

# Google Chirp (ASR)
GOOGLE_CHIRP_API_KEY=your-dev-chirp-api-key
GOOGLE_CHIRP_LANGUAGE_CODE=en-US

# Gemini (LLM)
GEMINI_API_KEY=your-dev-gemini-api-key
GEMINI_MODEL=gemini-2.5-flash

# OpenAI
OPENAI_API_KEY=your-dev-openai-api-key
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_TTS_MODEL=tts-1
OPENAI_TTS_VOICE=alloy

# Groq (Free tier)
GROQ_API_KEY=your-dev-groq-api-key
GROQ_MODEL=mixtral-8x7b-32768

# -----------------------------------------------------------------------------
# VECTOR DATABASE - PostgreSQL with pgvector (uses same DATABASE_URL)
# -----------------------------------------------------------------------------
# Vector search is handled by PostgreSQL with pgvector extension
# No additional configuration needed - uses DATABASE_URL above
VECTOR_DIMENSIONS=768  # Google text-embedding-004 dimension
VECTOR_INDEX_LISTS=100  # IVFFlat index parameter

# Optional: Weaviate (Self-hosted - free alternative)
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=
WEAVIATE_ENABLED=false  # Set to true to use Weaviate instead of PostgreSQL

# -----------------------------------------------------------------------------
# GCP - Development project
# -----------------------------------------------------------------------------
GCP_PROJECT_ID=digitwinlive
GCP_REGION=us-central1
GOOGLE_APPLICATION_CREDENTIALS=./secrets/gcp-service-account-dev.json

GCS_BUCKET_VOICE_MODELS=clone-voice-models-dev
GCS_BUCKET_FACE_MODELS=clone-face-models-dev
GCS_BUCKET_DOCUMENTS=clone-documents-dev
GCS_BUCKET_UPLOADS=clone-uploads-dev

# -----------------------------------------------------------------------------
# LOCAL GPU SERVICES
# -----------------------------------------------------------------------------
XTTS_SERVICE_URL=http://localhost:8000
XTTS_GPU_ENABLED=true

LIPSYNC_SERVICE_URL=http://localhost:8001
LIPSYNC_MODEL=tpsm
LIPSYNC_GPU_ENABLED=true

# -----------------------------------------------------------------------------
# RATE LIMITING - Relaxed for development
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_AUTH_MAX=50
RATE_LIMIT_UPLOAD_MAX=100

# -----------------------------------------------------------------------------
# LOGGING - Verbose for development
# -----------------------------------------------------------------------------
LOG_LEVEL=debug
LOG_FORMAT=simple
LOG_FILE_PATH=./logs/dev.log
LOG_ERROR_FILE_PATH=./logs/dev-error.log

# -----------------------------------------------------------------------------
# MONITORING - Disabled in development
# -----------------------------------------------------------------------------
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# -----------------------------------------------------------------------------
# EMAIL - Use local mail server or log to console
# -----------------------------------------------------------------------------
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=dev@digitwinlive.local
SMTP_FROM_NAME=DigitWin Live Dev

# -----------------------------------------------------------------------------
# PAYMENT - Use Stripe test mode
# -----------------------------------------------------------------------------
STRIPE_SECRET_KEY=sk_test_your-stripe-test-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-test-key

# Webhooks
WEBHOOK_SECRET=GdVhGfcJJxiDP00tK4Sl4rkx9gzPTYCEQavp5ikP1v8=

# -----------------------------------------------------------------------------
# FEATURE FLAGS - All enabled in development
# -----------------------------------------------------------------------------
FEATURE_OAUTH_GOOGLE=true
FEATURE_OAUTH_APPLE=true
FEATURE_VOICE_CLONING=true
FEATURE_FACE_CLONING=true
FEATURE_VIDEO_GENERATION=true
FEATURE_ANALYTICS=true

# -----------------------------------------------------------------------------
# DEVELOPMENT TOOLS
# -----------------------------------------------------------------------------
ENABLE_API_DOCS=true
ENABLE_DEBUG_ENDPOINTS=true
ENABLE_CACHING=false
ENABLE_COMPRESSION=false

# -----------------------------------------------------------------------------
# SUBSCRIPTION LIMITS - Relaxed for testing
# -----------------------------------------------------------------------------
FREE_TIER_CONVERSATION_MINUTES_PER_DAY=1000
FREE_TIER_DOCUMENTS_PER_MONTH=100
FREE_TIER_VOICE_MODELS=10

PRO_TIER_CONVERSATION_MINUTES_PER_DAY=0
PRO_TIER_DOCUMENTS_PER_MONTH=1000
PRO_TIER_VOICE_MODELS=50

# -----------------------------------------------------------------------------
# SECURITY - Relaxed for development
# -----------------------------------------------------------------------------
PASSWORD_MIN_LENGTH=6
PASSWORD_REQUIRE_UPPERCASE=false
PASSWORD_REQUIRE_LOWERCASE=false
PASSWORD_REQUIRE_NUMBERS=false
PASSWORD_REQUIRE_SPECIAL_CHARS=false

# Session Management
SESSION_SECRET=147d915c7ff7bc489573bf5858194423696490a7edbf9941674692d05bc2dc4b
CSRF_SECRET=3DPSoKiizs7FY8bVgLLm8FlYsG62DJ1H
SESSION_TIMEOUT_MINUTES=480
# 8 hours


# -----------------------------------------------------------------------------
# TESTING
# -----------------------------------------------------------------------------
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/digitwin_live_test
TEST_USER_EMAIL=test@example.com
TEST_USER_PASSWORD=testpassword123
