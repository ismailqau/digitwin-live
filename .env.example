# =============================================================================
# CONVERSATIONAL CLONE - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env files to version control
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION ENVIRONMENT
# -----------------------------------------------------------------------------
NODE_ENV=development
# Options: development, staging, production

# -----------------------------------------------------------------------------
# API GATEWAY CONFIGURATION
# -----------------------------------------------------------------------------
API_GATEWAY_PORT=3000
API_GATEWAY_HOST=localhost

# CORS Configuration
CORS_ORIGIN=*
# Production: https://app.digitwin-live.com,https://admin.digitwin-live.com

# -----------------------------------------------------------------------------
# WEBSOCKET SERVER CONFIGURATION
# -----------------------------------------------------------------------------
WEBSOCKET_PORT=3001
WEBSOCKET_HOST=localhost

# -----------------------------------------------------------------------------
# JWT AUTHENTICATION
# -----------------------------------------------------------------------------
# Generate secure secrets using: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production

# Token Expiry (examples: 15m, 1h, 7d)
ACCESS_TOKEN_EXPIRY=15m
REFRESH_TOKEN_EXPIRY=7d

# -----------------------------------------------------------------------------
# OAUTH2 CONFIGURATION - GOOGLE
# -----------------------------------------------------------------------------
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/api/v1/auth/oauth/google/callback

# -----------------------------------------------------------------------------
# OAUTH2 CONFIGURATION - APPLE
# -----------------------------------------------------------------------------
# Get credentials from: https://developer.apple.com/account/resources/identifiers/list
APPLE_CLIENT_ID=com.yourcompany.digitwin-live
APPLE_TEAM_ID=YOUR_TEAM_ID
APPLE_KEY_ID=YOUR_KEY_ID
APPLE_PRIVATE_KEY_PATH=./secrets/apple-private-key.p8
APPLE_REDIRECT_URI=http://localhost:3000/api/v1/auth/oauth/apple/callback

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION - POSTGRESQL
# -----------------------------------------------------------------------------
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=digitwinline
DATABASE_USER=postgres
DATABASE_PASSWORD=your-database-password
DATABASE_SSL=false
# Production: true

# Connection Pool
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# Database URL (alternative to individual settings)
DATABASE_URL=postgresql://postgres:your-database-password@localhost:5432/digitwinline

# -----------------------------------------------------------------------------
# CACHING CONFIGURATION (PostgreSQL-based)
# -----------------------------------------------------------------------------
# Caching is implemented using PostgreSQL indexed cache tables
# No separate cache service required - uses main database

# Cache TTL (Time To Live) in seconds
CACHE_TTL_SHORT=300
# 5 minutes
CACHE_TTL_MEDIUM=3600
# 1 hour
CACHE_TTL_LONG=86400
# 24 hours

# Enable/disable caching
ENABLE_CACHING=true

# -----------------------------------------------------------------------------
# VECTOR DATABASE - PINECONE
# -----------------------------------------------------------------------------
PINECONE_API_KEY=your-pinecone-api-key
PINECONE_ENVIRONMENT=us-west1-gcp
PINECONE_INDEX_NAME=digitwin-live

# Alternative: Weaviate
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=your-weaviate-api-key

# -----------------------------------------------------------------------------
# GOOGLE CLOUD PLATFORM
# -----------------------------------------------------------------------------
GCP_PROJECT_ID=your-gcp-project-id
GCP_REGION=us-central1
GOOGLE_APPLICATION_CREDENTIALS=./secrets/gcp-service-account.json

# Cloud Storage
GCS_BUCKET_VOICE_MODELS=clone-voice-models
GCS_BUCKET_FACE_MODELS=clone-face-models
GCS_BUCKET_DOCUMENTS=clone-documents
GCS_BUCKET_UPLOADS=clone-uploads

# Cloud SQL
CLOUD_SQL_CONNECTION_NAME=your-project:us-central1:clone-db

# -----------------------------------------------------------------------------
# AI SERVICES - GOOGLE CHIRP (ASR)
# -----------------------------------------------------------------------------
GOOGLE_CHIRP_API_KEY=your-chirp-api-key
GOOGLE_CHIRP_LANGUAGE_CODE=en-US

# -----------------------------------------------------------------------------
# AI SERVICES - GEMINI (LLM)
# -----------------------------------------------------------------------------
GEMINI_API_KEY=your-gemini-api-key
GEMINI_MODEL=gemini-2.5-flash
# Options: gemini-2.5-flash, gemini-2.5-pro

# -----------------------------------------------------------------------------
# AI SERVICES - OPENAI
# -----------------------------------------------------------------------------
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_TTS_MODEL=tts-1
OPENAI_TTS_VOICE=alloy

# -----------------------------------------------------------------------------
# AI SERVICES - GROQ (Alternative LLM)
# -----------------------------------------------------------------------------
GROQ_API_KEY=your-groq-api-key
GROQ_MODEL=mixtral-8x7b-32768

# -----------------------------------------------------------------------------
# TTS SERVICES - GOOGLE CLOUD TTS
# -----------------------------------------------------------------------------
GOOGLE_TTS_API_KEY=your-google-tts-api-key
GOOGLE_TTS_VOICE_NAME=en-US-Neural2-A
GOOGLE_TTS_LANGUAGE_CODE=en-US

# -----------------------------------------------------------------------------
# TTS SERVICES - XTTS-V2 (Self-hosted)
# -----------------------------------------------------------------------------
XTTS_SERVICE_URL=http://localhost:8000
XTTS_GPU_ENABLED=true

# -----------------------------------------------------------------------------
# LIP-SYNC SERVICE
# -----------------------------------------------------------------------------
LIPSYNC_SERVICE_URL=http://localhost:8001
LIPSYNC_MODEL=tpsm
LIPSYNC_GPU_ENABLED=true

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
# 15 minutes in milliseconds

RATE_LIMIT_MAX_REQUESTS=100
# Max requests per window

RATE_LIMIT_AUTH_MAX=5
# Max auth attempts per window

RATE_LIMIT_UPLOAD_MAX=10
# Max uploads per window

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
LOG_LEVEL=info
# Options: error, warn, info, debug

LOG_FORMAT=json
# Options: json, simple

LOG_FILE_PATH=./logs/app.log
LOG_ERROR_FILE_PATH=./logs/error.log

# -----------------------------------------------------------------------------
# MONITORING & OBSERVABILITY
# -----------------------------------------------------------------------------
# Sentry (Error Tracking)
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=development

# New Relic (APM)
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=digitwin-live

# Datadog
DATADOG_API_KEY=your-datadog-api-key
DATADOG_APP_KEY=your-datadog-app-key

# -----------------------------------------------------------------------------
# EMAIL SERVICE (for notifications, password reset, etc.)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@digitwin-live.com
SMTP_FROM_NAME=Conversational Clone

# Alternative: SendGrid
SENDGRID_API_KEY=your-sendgrid-api-key

# Alternative: AWS SES
AWS_SES_REGION=us-east-1
AWS_SES_ACCESS_KEY_ID=your-aws-access-key
AWS_SES_SECRET_ACCESS_KEY=your-aws-secret-key

# -----------------------------------------------------------------------------
# PAYMENT PROCESSING (for subscriptions)
# -----------------------------------------------------------------------------
# Stripe
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Subscription Price IDs
STRIPE_PRICE_ID_PRO=price_pro_monthly
STRIPE_PRICE_ID_ENTERPRISE=price_enterprise_monthly

# -----------------------------------------------------------------------------
# CONTENT SAFETY
# -----------------------------------------------------------------------------
# Perspective API (Toxicity Detection)
PERSPECTIVE_API_KEY=your-perspective-api-key

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
FEATURE_OAUTH_GOOGLE=true
FEATURE_OAUTH_APPLE=true
FEATURE_VOICE_CLONING=true
FEATURE_FACE_CLONING=true
FEATURE_VIDEO_GENERATION=true
FEATURE_ANALYTICS=true

# -----------------------------------------------------------------------------
# SUBSCRIPTION LIMITS
# -----------------------------------------------------------------------------
# Free Tier
FREE_TIER_CONVERSATION_MINUTES_PER_DAY=60
FREE_TIER_DOCUMENTS_PER_MONTH=10
FREE_TIER_VOICE_MODELS=1

# Pro Tier
PRO_TIER_CONVERSATION_MINUTES_PER_DAY=0
# 0 = unlimited
PRO_TIER_DOCUMENTS_PER_MONTH=100
PRO_TIER_VOICE_MODELS=5

# Enterprise Tier
ENTERPRISE_TIER_CONVERSATION_MINUTES_PER_DAY=0
ENTERPRISE_TIER_DOCUMENTS_PER_MONTH=0
ENTERPRISE_TIER_VOICE_MODELS=0

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
# Password Requirements
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL_CHARS=false

# Session Security
SESSION_SECRET=your-session-secret-change-this
SESSION_TIMEOUT_MINUTES=60

# CSRF Protection
CSRF_SECRET=your-csrf-secret-change-this

# -----------------------------------------------------------------------------
# DEVELOPMENT TOOLS
# -----------------------------------------------------------------------------
# Enable API documentation in production
ENABLE_API_DOCS=true
# Production: false

# Enable debug endpoints
ENABLE_DEBUG_ENDPOINTS=true
# Production: false

# Mock external services (for testing)
MOCK_EXTERNAL_SERVICES=false

# -----------------------------------------------------------------------------
# PERFORMANCE
# -----------------------------------------------------------------------------
# Enable caching
ENABLE_CACHING=true

# Cache TTL (seconds)
CACHE_TTL_SHORT=300
# 5 minutes
CACHE_TTL_MEDIUM=3600
# 1 hour
CACHE_TTL_LONG=86400
# 24 hours

# Enable compression
ENABLE_COMPRESSION=true

# -----------------------------------------------------------------------------
# MOBILE APP CONFIGURATION
# -----------------------------------------------------------------------------
MOBILE_APP_VERSION=1.0.0
MOBILE_APP_BUILD_NUMBER=1
MOBILE_FORCE_UPDATE_VERSION=1.0.0

# Deep Linking
DEEP_LINK_SCHEME=digitwin-live
DEEP_LINK_HOST=app.digitwin-live.com

# -----------------------------------------------------------------------------
# ANALYTICS
# -----------------------------------------------------------------------------
# Google Analytics
GA_TRACKING_ID=UA-XXXXXXXXX-X

# Mixpanel
MIXPANEL_TOKEN=your-mixpanel-token

# Amplitude
AMPLITUDE_API_KEY=your-amplitude-api-key

# -----------------------------------------------------------------------------
# WEBHOOKS
# -----------------------------------------------------------------------------
WEBHOOK_SECRET=your-webhook-secret
WEBHOOK_TIMEOUT_MS=5000

# -----------------------------------------------------------------------------
# BACKUP & DISASTER RECOVERY
# -----------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
# Daily at 2 AM (cron format)
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_BUCKET=clone-backups

# -----------------------------------------------------------------------------
# COMPLIANCE
# -----------------------------------------------------------------------------
# Data Retention
DATA_RETENTION_DAYS=90
AUDIT_LOG_RETENTION_DAYS=365

# GDPR
GDPR_ENABLED=true
GDPR_DATA_EXPORT_ENABLED=true
GDPR_RIGHT_TO_DELETION_ENABLED=true

# -----------------------------------------------------------------------------
# TESTING
# -----------------------------------------------------------------------------
TEST_DATABASE_URL=postgresql://postgres:test@localhost:5432/digitwinline_test
TEST_USER_EMAIL=test@example.com
TEST_USER_PASSWORD=testpassword123
